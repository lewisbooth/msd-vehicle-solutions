"use strict";function setState(e){formState=e,renderForm()}function getState(){var e={};return fieldsets.forEach(function(t){var r=t.getAttribute("name"),n={};t.querySelectorAll("input").forEach(function(e){var t=e.getAttribute("name"),r=null!==e.getAttribute("checked");n[t]={checked:r}}),e[r]=n}),e}function renderForm(){priceOutput.innerHTML=getPrice(),fieldsets.forEach(function(e){var t=e.getAttribute("name");e.querySelectorAll("input").forEach(function(e){var r=e.getAttribute("name");!0===formState[t][r].checked?e.setAttribute("checked",!0):e.removeAttribute("checked")})}),!0===carInput.checked?(carBlock.classList.remove("hidden"),vanBlock.classList.add("hidden")):(vanBlock.classList.remove("hidden"),carBlock.classList.add("hidden"))}function checkInput(e){var t=JSON.parse(JSON.stringify(formState)),r=e.target.getAttribute("name"),n=e.target.parentElement.getAttribute("name");for(var o in t[n]){var c=o===r;t[n][o].checked=c}setState(t)}function getPrice(){var e=JSON.parse(JSON.stringify(formState));for(var t in e){for(var r in e[t])!1===e[t][r].checked&&delete e[t][r];e[t]=Object.keys(e[t])[0]}var n=e["vehicle-type"],o=e[n+"-size"],c=e.days,a=prices[n][o];if(void 0!==discounts[c]){var i=1-discounts[c]/100;a=Math.floor(a*i)}return"Â£"+a}function moveForm(){window.innerWidth<1024?topSection.insertBefore(quoteForm,mobileLocation):aside.insertBefore(quoteForm,callToBook)}function insertAfter(e,t){t.parentNode.insertBefore(e,t.nextSibling)}var prices={van:{"van-small":50,"van-medium":70,"van-large":90,"van-luton":105},car:{"car-economy":35,"car-saloon":45,"car-suv":55,"car-truck":65}},discounts={"3-7":10,"8-14":15,"15+":20},form=document.forms["instant-quote"],fieldsets=form.querySelectorAll(".options"),inputs=form.querySelectorAll("input"),priceOutput=form.querySelector("output"),aside=document.querySelector("aside"),mobileLocation=document.querySelector("article"),callToBook=aside.querySelector(".call-to-book"),quoteForm=document.querySelector(".instant-quote"),topSection=document.querySelector("article").parentNode,vanBlock=form.querySelector("[name=van-size]").parentElement,carBlock=form.querySelector("[name=car-size]").parentElement,vanInput=form.querySelector("[name=van]"),carInput=form.querySelector("[name=car]");form.addEventListener("submit",function(e){return e.preventDefault()}),inputs.forEach(function(e){e.addEventListener("click",function(e){return checkInput(e)})});var formState=getState();renderForm(),moveForm(),window.addEventListener("resize",function(){moveForm()});