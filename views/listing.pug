extends layout

block coverImage
block articleHeader
block pageContent
  .full-width.listing-selection
    .container
      .listing-selection-text I want to
      .listing-selection-dropdown.type 
        span #{params.selectedOptionType}
        .listing-selection-dropdown-group
          .listing-selection-dropdown-group-triangle
          .listing-selection-dropdown-group-option(data-value="Hire") Hire
          .listing-selection-dropdown-group-option(data-value="Lease") Lease
          .listing-selection-dropdown-group-option(data-value="Buy") Buy
      .listing-selection-text a
      .listing-selection-dropdown.vehicle
        span #{params.selectedOptionVehicle}
        .listing-selection-dropdown-group
          .listing-selection-dropdown-group-triangle
          .listing-selection-dropdown-group-option(data-value="Van") Van
          .listing-selection-dropdown-group-option(data-value="Car") Car
      button.button.button-secondary.button-ghost Update       

block listingResults
  - const vehicleCount = Object.keys(vehicles).length
  .container.listing
    block listingFilter
      .space-between
        h4.no-margin Filter Results
        p.no-margin Showing #[strong= vehicleCount] vehicles
      
      form.listing-filter
        .listing-filter-group
          span
            label Sort by:
            select(name="sort")
              option(value="price-low" selected=(query.sort === "price-low" || !query.sort)) Price (Low-High)
              option(value="price-high" selected=(query.sort === "price-high")) Price (High-Low)
          span
            label Size:
            select(name="size")
              option(value="all" selected=(query.size === "all" || !query.size)) All
              option(value="van-small" selected=(query.size === "van-small")) Small
              option(value="van-medium" selected=(query.size === "van-medium")) Medium
              option(value="van-large" selected=(query.size === "van-large")) Large
              option(value="van-luton" selected=(query.size === "van-luton")) Luton
          span
            label Seats:
            select(name="seats")
              option(value="all" selected=(query.seats === "all" || !query.seats)) All
              option(value="2" selected=(query.seats === "2")) 2
              option(value="3" selected=(query.seats === "3")) 3
              option(value="4+" selected=(query.seats === "4+")) 4+
          span
            label Fuel:
            select(name="fuel")
              option(value="all") All
              option(value="petrol") Petrol
              option(value="diesel") Diesel
        button.button.button-secondary.no-margin Filter
    if vehicleCount > 0
      .cards.listing-results
        each vehicle in vehicles
          +vehicleCard(vehicle, type)
      p Can't find what you're looking for? Our stock is always changing, so #[a(href="/contact") call us today] to find out how we can help.
      
    else
      h5 No vehicles found
        

block extraFooterScripts
  script
    include scripts/dist/listingSelection-min.js